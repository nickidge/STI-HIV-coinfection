scen_df$scen_long
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
df
df %>% group_by(plot) %>% summarise(max(value))
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
df %>% group_by(plot) %>% summarise(max(model, data))
df %>% group_by(plot) %>% summarise(max(model, data, na.rm=T))
?summarise
max_df = df %>% group_by(plot) %>% summarise(max = max(model, data, na.rm=T)) %>% as.data.frame()
max_df
?geom_blank
# function scripts
source("f_calibrate.R", echo = F)
source("f_uncertainty.R", echo = F)
source("f_scenarios.R", echo = T)
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
p = ggplot(df, aes(x=t, group=HIV_pop, colour=HIV_pop, fill=HIV_pop))
p = p + facet_wrap(.~plot, scales="free_y", ncol=1,
labeller = labeller(plot = setNames(plot_long, plot_keys)))
p = p + geom_point(aes(y = data), na.rm=T, size=1.3)
p = p + geom_path(aes(y = model), na.rm=T, lwd=1.3)
p = p + geom_ribbon(aes(ymin = lower_ci, ymax = upper_ci, x=t), alpha=0.2, colour=NA, na.rm=T)
p = p + geom_blank(data=max_df, aes(y=upperlim), inherit.aes = F)
p = p + scale_x_continuous(breaks = label_years,
limits = c(min(df$t), max(df$t)),
expand = c(0, 0))
# p = p + scale_y_continuous(expand = expand_scale(mult = c(0, .1)))
p = p + scale_y_continuous(expand = c(0,0))
p = p + expand_limits(y = 0)
p = p + scale_colour_manual(na.value = 'black',
limits = colour_scale$HIV_pop,
breaks = colour_scale$HIV_pop,
values = colour_scale$col,
labels = colour_scale$long,
aesthetics = c('colour', 'fill'),
name = 'Care cascade')
p = p + coord_cartesian(xlim = plot_years)
p = p + theme_all
p = p + theme(legend.justification = c(0, 0.1))
[]
p
source("f_uncertainty.R", echo = F)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
df$HIV_pop
max(na.rm=T)
?factor
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
unique(df$HIV_pop)
sapply(unique(df$HIV_pop), function(x) max(c(0, match(x, colour_scale$HIV_pop)), na.rm=TRUE))
?order
order(sapply(unique(df$HIV_pop), function(x) max(c(0, match(x, colour_scale$HIV_pop)), na.rm=TRUE)), decreasing=TRUE)
unique(df$HIV_pop)[order(sapply(unique(df$HIV_pop), function(x) max(c(0, match(x, colour_scale$HIV_pop)), na.rm=TRUE)), decreasing=TRUE)]
Q
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
?geom_point
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
df$scen
df %>% group_by(scen)
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
plot_years
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
c
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
max_df
c
?expand
?scale_y_continuous
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
df[df$plot == 'prop_diag']
df[df$plot == 'prop_diag',]
df$plot
df[df$plot == 'HIV_inf',]
max_df
str(max_df)
str(df$plot)
levels(max_df$plot)
levels(df$plot)
debugSource('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
?expand_limits
p <- ggplot(mtcars, aes(mpg, wt)) + geom_point()
p + expand_limits(x = 0)
p + expand_limits(y = c(1, 9))
p + expand_limits(x = 0, y = 0
)
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/processing.R', echo=TRUE)
tvec_base = seq(2007, 2025, by=1/12)
plot_years = c(2010, 2020)
label_years = unique(c(plot_years, seq(2000, 2050, by=5)))
split_year = 2014
scenarios = list(list(sheet = 'scen_1',
short = 'no_prep',
long = 'Everyone stops using PrEP'),
list(sheet = 'scen_2',
short = 'less_test',
long = 'Testing less often'))
# bulk of code
source("init.R", echo = F)
source("info.R", echo = F)
source("plotting.R", echo = F)
source("themes.R", echo = F)
source("pars.R", echo = F)
source("loadpars.R", echo = F)
source("default_values.R", echo = F)
source("y0.R", echo = F)
source("model.R", echo = F)
# function scripts
source("f_calibrate.R", echo = F)
source("f_uncertainty.R", echo = F)
source("f_scenarios.R", echo = T)
# calibrate model
if(!exists('cal')){
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration()
# source("pars.R", echo = F)
}
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
# run all scenarios (with uncertainty)
scen_df = gen_scenarios(scen_df=base_df, scenarios=scenarios, ntrials=3)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
tvec_base = seq(2007, 2025, by=1/12)
plot_years = c(2010, 2020)
label_years = unique(c(plot_years, seq(2000, 2050, by=5)))
split_year = 2014
scenarios = list(list(sheet = 'scen_1',
short = 'no_prep',
long = 'Everyone stops using PrEP'),
list(sheet = 'scen_2',
short = 'less_test',
long = 'Testing less often'))
# bulk of code
source("init.R", echo = F)
source("info.R", echo = F)
source("processing.R", echo=F)
source("plotting.R", echo = F)
source("themes.R", echo = F)
source("pars.R", echo = F)
source("loadpars.R", echo = F)
source("default_values.R", echo = F)
source("y0.R", echo = F)
source("model.R", echo = F)
# function scripts
source("f_calibrate.R", echo = F)
source("f_uncertainty.R", echo = F)
source("f_scenarios.R", echo = T)
!exists('cal')
# calibrate model
if(!exists('cal')){
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration()
# source("pars.R", echo = F)
}
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
optim_result
debugSource('~/GitHub/STI-HIV-coinfection/f_calibrate.R', echo=TRUE)
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration()
res
res$scen
all_dat$scen
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/f_calibrate.R', echo=TRUE)
gen_calibration()
df_wide
tvec_base = seq(2007, 2025, by=1/12)
plot_years = c(2010, 2020)
label_years = unique(c(plot_years, seq(2000, 2050, by=5)))
split_year = 2014
scenarios = list(list(sheet = 'scen_1',
short = 'no_prep',
long = 'Everyone stops using PrEP'),
list(sheet = 'scen_2',
short = 'less_test',
long = 'Testing less often'))
# bulk of code
source("init.R", echo = F)
source("info.R", echo = F)
source("processing.R", echo=F)
source("plotting.R", echo = F)
source("themes.R", echo = F)
source("pars.R", echo = F)
source("loadpars.R", echo = F)
source("default_values.R", echo = F)
source("y0.R", echo = F)
source("model.R", echo = F)
# function scripts
source("f_calibrate.R", echo = F)
source("f_uncertainty.R", echo = F)
source("f_scenarios.R", echo = T)
# calibrate model
if(!exists('cal')){
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration()
# source("pars.R", echo = F)
}
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
# run all scenarios (with uncertainty)
scen_df = gen_scenarios(scen_df=base_df, scenarios=scenarios, ntrials=3)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
optim_result
baselist$f_infect_HIV
baselist$init_diag_prop
debugSource('~/GitHub/STI-HIV-coinfection/f_calibrate.R', echo=TRUE)
gen_calibration()
Q
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
baselist$f_infect_HIV
optim_result
gen_calibration()
optim_result
# source("pars.R", echo = F)
}
optim_result
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
?quantile
base_df
base_df$t
quantile(base_df$t, probs=0)
quantile(base_df$t, probs=0.1)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/f_scenarios.R', echo=TRUE)
saveopen(plot_scens(scen_df), 'scenarios', 'plots')
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
?facet_wrap
?theme
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
?theme
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/init.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(panel.background = element_blank()), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(0, 0)), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(0.5, 0)), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(1, 0), legend.justification = c(0.5, 0.5)), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(1, 0), legend.justification = c(0.5, 1)), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(1, 0), legend.justification = c(1, 0)), 'calibration', 'plots')
saveopen(plot_uncertainty(base_df) + theme(legend.position = c(0.8, 0), legend.justification = c(1, 0)), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/themes.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
?facet_wrap
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/plotting.R', echo=TRUE)
debugSource('~/GitHub/STI-HIV-coinfection/plotting.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
library(grid)
source('~/GitHub/STI-HIV-coinfection/init.R', echo=TRUE)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
gtable::gtable_show_layout(gp)
gp[["layout"]]
gPath
?gPath
gPath("axis-l-3-1", "axis", "axis", "GRID.text")
source('~/GitHub/STI-HIV-coinfection/plotting.R', echo=TRUE)
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
source('~/GitHub/STI-HIV-coinfection/f_uncertainty.R', echo=TRUE)
# run base scenario (with uncertainty)
base_df = gen_uncertainty(3)
saveopen(plot_uncertainty(base_df), 'calibration', 'plots')
baselist$init_PLHIV
vector
?vector
vector(1, 5)
rep(1, 6)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
sHIV$S
sHIV$S
sHIV$I_new
init_prev_HIV
y0_base[,"S", "lo"]
y0_base
debugSource('~/GitHub/STI-HIV-coinfection/model.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
tvec_base = seq(2007, 2030, by=1/12)
plot_years = c(2007, 2030)
label_years = unique(c(plot_years, seq(2000, 2050, by=5)))
split_year = 2014
scenarios = list(list(sheet = 'scen_1',
short = 'no_prep',
long = 'Everyone stops using PrEP'),
list(sheet = 'scen_2',
short = 'less_test',
long = 'Testing less often'))
# bulk of code
source("init.R", echo = F)
source("info.R", echo = F)
source("processing.R", echo=F)
source("plotting.R", echo = F)
source("themes.R", echo = F)
source("pars.R", echo = F)
source("loadpars.R", echo = F)
source("default_values.R", echo = F)
source("y0.R", echo = F)
debugSource('~/GitHub/STI-HIV-coinfection/model.R', echo=TRUE)
# function scripts
source("f_calibrate.R", echo = F)
source("f_uncertainty.R", echo = F)
source("f_scenarios.R", echo = T)
# calibrate model
if(!exists('cal')){
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration()
# source("pars.R", echo = F)
}
y0
popsize
popsize_t
as.character(tvec[1])
popsize[as.character(tvec[1])]
y0[1,1,1]
npop = popsize[as.character(tvec[1])]
y0[1,1,1] = npop
y0
y0[sHIV$S,,] * init_prev_HIV
source('~/GitHub/STI-HIV-coinfection/f_calibrate.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
optim_result
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
optim_result
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
cal_keys
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
compare_model_to_data(cal)
ttt= compare_model_to_data(cal)
tttt = ttt[!is.na(ttt$data),]
tttt
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
numeric(4)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
warnings()
plot_keys
cal_keys
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
plot_keys
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
plot_keys
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
sHIV$S
y0
ninf
init_prev_HIV
f_infect_HIV
baselist
x
y0
y0
popsize
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
ca;
cal
debugSource('~/GitHub/STI-HIV-coinfection/model.R', echo=TRUE)
baselist = load_time_par_sheet('timepars', deflist = defaultlist)
cal_keys = c('PLHIV', 'HIV_diag', 'care_cascade')
gen_calibration(c('f_infect_HIV', 'init_diag_prop', 'init_prev_HIV'))
ninf
npop
ndiag
y0
y0_base
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
?nmkb
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
open
open_
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
source('~/GitHub/STI-HIV-coinfection/main.R', echo=TRUE)
